{% extends 'core/base.html' %}
{% load strings %}

{% block navbar %}
<ul class="nav navbar-nav">
    <li class="breadcrumb-step first">
        <a href="{% url 'project' project.uuid %}">{{ project.name }}</a>
    </li>
    <li class="breadcrumb-step">
        <a href="{% url 'project_new_suggestions' project.uuid %}">New suggestions</a>
    </li>
</ul>
{% endblock %}

{% block content %}
<div class="panel panel-default">
    <div class="panel-heading">
        <code class="text-danger bg-danger">{{ suggestion.string.name }}</code>
        {% if suggestion.string.value_one %}
        <nobr> ::</nobr>
        <code class="text-warning bg-warning">{{ suggestion.plural_form }}</code>
        {% endif %}
    </div>
    <div class="panel-body">
        <div class="form-group">
            <label for="original">String value</label>
            <span id="original" class="form-control">{{ suggestion.string.value_other }}</span>
        </div>
        <div class="form-group">
            <label for="translation">
                Suggestion for
                <span class="text-warning">{{ suggestion.translation.language.name }}</span>
                translation ({{ suggestion_votes }} vote{{ suggestion_votes|pluralize }})
            </label>
            <span id="translation" class="form-control">{{ suggestion.value }}</span>
        </div>
        {% if other_suggestions %}
        <div class="form-group">
            <label>Other suggestions</label>
            <ul class="list-group">
                {% for other_suggestion in other_suggestions %}
                <li class="list-group-item">
                    <span class="badge">{{ other_suggestion.votes.count }}</span>
                    <span class="{{ other_suggestion.accepted|yesno:'text-success,text-danger,text-muted' }}">{{ other_suggestion.value }}</span>
                </li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
        {% if suggestion.google_translation %}
        <div class="form-group">
            <label for="reverse">Google translation</label>
            <span id="reverse" class="form-control">{{ suggestion.google_translation }}</span>
        </div>
        {% endif %}
        {% if perms.core.can_change_suggestion %}
        {% if suggestion.accepted is True %}
        <span class="btn btn-success disabled">Accept</span>
        <a href="{% url 'project_new_suggestion_reject' project.uuid suggestion.uuid %}" class="btn btn-danger">Reject</a>
        {% elif suggestion.accepted is False %}
        <a href="{% url 'project_new_suggestion_accept' project.uuid suggestion.uuid %}" class="btn btn-success">Accept</a>
        <span class="btn btn-danger disabled">Reject</span>
        {% else %}
        <a href="{% url 'project_new_suggestion_accept' project.uuid suggestion.uuid %}" class="btn btn-success">Accept</a>
        <a href="{% url 'project_new_suggestion_reject' project.uuid suggestion.uuid %}" class="btn btn-danger">Reject</a>
        {% endif %}
        {% endif %}
    </div>
</div>
{% endblock %}